const h={data(){return{currentPage:1,perPage:10,perPageOptions:[10,25,50,100,500],pagination:{current_page:1,last_page:1,per_page:10,total:0},search:"",sortBy:null,sortDirection:"asc",loading:!1,saving:!1}},methods:{onPerPageChange(){this.currentPage=1,this.loadData&&this.loadData()},showSuccess(t){window.Toast?window.Toast.fire({icon:"success",title:t}):alert(t)},showError(t){window.Toast?window.Toast.fire({icon:"error",title:t}):alert(t)},formatDate(t){return t?new Date(t).toLocaleDateString():"-"},formatDateTime(t){return t?new Date(t).toLocaleString():"-"},formatDateDDMMYYYY(t){if(!t)return"";try{if(typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)){const[n,c,s]=t.split("-");return`${s}/${c}/${n}`}const r=new Date(t);if(isNaN(r.getTime()))return"";const e=String(r.getDate()).padStart(2,"0"),a=String(r.getMonth()+1).padStart(2,"0"),o=r.getFullYear();return`${e}/${a}/${o}`}catch{return t}},getAuthToken(){return localStorage.getItem("admin_token")},getAuthHeaders(){return{Authorization:`Bearer ${this.getAuthToken()}`}},buildPaginationParams(t={}){const r={page:this.currentPage,per_page:this.perPage,...t};return this.sortBy&&(r.sort_by=this.sortBy,r.sort_direction=this.sortDirection),r},updatePagination(t){t&&(this.pagination={current_page:t.current_page||1,last_page:t.last_page||1,per_page:t.per_page||this.perPage,total:t.total||0})},resetPagination(){this.currentPage=1},handleApiError(t,r="An error occurred"){var a,o,n,c;console.error("API Error:",t);let e=r;if((o=(a=t.response)==null?void 0:a.data)!=null&&o.errors){const s=t.response.data.errors,g=[];Object.keys(s).forEach(i=>{Array.isArray(s[i])?g.push(`${i}: ${s[i][0]}`):g.push(`${i}: ${s[i]}`)}),e=g.join(`
`)}else(c=(n=t.response)==null?void 0:n.data)!=null&&c.message?e=t.response.data.message:t.message&&(e=t.message);this.showError(e)},handleSort(t){this.sortBy===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortBy=t,this.sortDirection="asc"),this.currentPage=1},getSortIcon(t){return this.sortBy!==t?"mdi-sort":this.sortDirection==="asc"?"mdi-sort-ascending":"mdi-sort-descending"},resetSorting(){this.sortBy=null,this.sortDirection="asc"},customValueSet(t,r){this.filters&&Object.prototype.hasOwnProperty.call(this.filters,t)?this.filters[t]=r:Object.prototype.hasOwnProperty.call(this,t)&&(this[t]=r)}}};export{h as a};
